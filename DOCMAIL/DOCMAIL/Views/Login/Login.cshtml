@model DOCMAIL.Models.UserModel

@{
    ViewBag.Title = "Login";
}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link rel="stylesheet" href="~/Content/style.css">

@using (Html.BeginForm("Login", "Login", FormMethod.Post))
{
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-lg-3 col-md-5 col-sm-6 mx-auto mt-5 mb-5" style="width: 300px">
            <div class="row mt-3 mb-5">
                <h1 class="display-1 text-center fs-1">
                    LOGIN
                </h1>
            </div>

            <div class="form-horizontal">

                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                <div class="form-group">
                    <div class="col">
                        <div class="form-floating mb-3">
                            @Html.EditorFor(model => model.Username, new { htmlAttributes = new { @class = "form-control" } })
                            <label for="floatingInput">Usuario</label>
                            @Html.ValidationMessageFor(model => model.Username, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col">
                        <div class="form-floating mb-3">
                            @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", type = "password" } })
                            <label for="floatingPassword">Contraseña</label>
                            @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col">
                        <input type="submit" value="Entrar" class="w-100 btn btn-lg btn-warning mt-2" />
                    </div>
                </div>

                <!-- Error message display -->
                @if (TempData["LoginFailed"] != null && (bool)TempData["LoginFailed"])
                {
                    <div class="text-danger mt-3">
                        Nombre de usuario o contraseña incorrectos.
                    </div>
                }

            </div>
        </div>
    </div>
}
